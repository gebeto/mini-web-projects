<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="user-scalable=no, width=device-width">
	<title>EYE</title>
	<style>
		body {
			/*background: green;*/
		}
		.eye-wrapper {
			width: 220px;
			height: 100px;
			position: fixed;
			left: 0;
			right: 0;
			top: 0;
			bottom: 0;
			margin: auto;
			font-size: 0;
		}
		#eye-svg-left {
			float: left;
		}
		#eye-svg-right {
			float: right;
		}
	</style>
</head>
<body>

	<div class="eye-wrapper">
		<svg id="eye-svg-left" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 59.2 59.2" xml:space="preserve" width="100" height="100">
			<defs>
				<clipPath id="eye-form">
					<path d="M51.062,21.561c-5.759-5.759-13.416-8.931-21.561-8.931S13.7,15.801,7.941,21.561L0,29.501l8.138,8.138 c5.759,5.759,13.416,8.931,21.561,8.931s15.802-3.171,21.561-8.931l7.941-7.941L51.062,21.561z "/>
				</clipPath>
			</defs>
			<g clip-path="url(#eye-form)">
				<path id="apple-left" d="M29.572,16.57c-7.168,0-13,5.832-13,13s5.832,13,13,13s13-5.832,13-13S36.741,16.57,29.572,16.57z M29.572,24.57 c-2.757,0-5,2.243-5,5c0,0.552-0.448,1-1,1s-1-0.448-1-1c0-3.86,3.14-7,7-7c0.552,0,1,0.448,1,1S30.125,24.57,29.572,24.57z"/>

				<path d="M51.062,21.561c-5.759-5.759-13.416-8.931-21.561-8.931S13.7,15.801,7.941,21.561L0,29.501l8.138,8.138 c5.759,5.759,13.416,8.931,21.561,8.931s15.802-3.171,21.561-8.931l7.941-7.941L51.062,21.561z M49.845,36.225 c-5.381,5.381-12.536,8.345-20.146,8.345s-14.765-2.963-20.146-8.345l-6.724-6.724l6.527-6.527 c5.381-5.381,12.536-8.345,20.146-8.345s14.765,2.963,20.146,8.345l6.724,6.724L49.845,36.225z"/>
			</g>
		</svg>
		<svg id="eye-svg-right" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 59.2 59.2" xml:space="preserve" width="100" height="100">
			<defs>
				<clipPath id="eye-form">
					<path d="M51.062,21.561c-5.759-5.759-13.416-8.931-21.561-8.931S13.7,15.801,7.941,21.561L0,29.501l8.138,8.138 c5.759,5.759,13.416,8.931,21.561,8.931s15.802-3.171,21.561-8.931l7.941-7.941L51.062,21.561z "/>
				</clipPath>
			</defs>
			<g clip-path="url(#eye-form)">
				<path id="apple-right" d="M29.572,16.57c-7.168,0-13,5.832-13,13s5.832,13,13,13s13-5.832,13-13S36.741,16.57,29.572,16.57z M29.572,24.57 c-2.757,0-5,2.243-5,5c0,0.552-0.448,1-1,1s-1-0.448-1-1c0-3.86,3.14-7,7-7c0.552,0,1,0.448,1,1S30.125,24.57,29.572,24.57z"/>

				<path d="M51.062,21.561c-5.759-5.759-13.416-8.931-21.561-8.931S13.7,15.801,7.941,21.561L0,29.501l8.138,8.138 c5.759,5.759,13.416,8.931,21.561,8.931s15.802-3.171,21.561-8.931l7.941-7.941L51.062,21.561z M49.845,36.225 c-5.381,5.381-12.536,8.345-20.146,8.345s-14.765-2.963-20.146-8.345l-6.724-6.724l6.527-6.527 c5.381-5.381,12.536-8.345,20.146-8.345s14.765,2.963,20.146,8.345l6.724,6.724L49.845,36.225z"/>
			</g>
		</svg>
	</div>
	<button>Fix</button>
	
	<script>
		var pos = {
			x: 0,
			y: 0,
		}

		var origY = -46;

		document.querySelector("button").addEventListener("click", function() {
			origY = -pos.y;
		});

		var eyeLeft = document.querySelector("#apple-left");
		var eyeRight = document.querySelector("#apple-right");
		var eyeSvgLeft = document.querySelector("#eye-svg-left");
		var eyeSvgRight = document.querySelector("#eye-svg-right");
		
		function translate(x, y, scaleX, scaleY) {
			// console.log(arguments);
			y = y + origY;
			eyeLeft.style.transform = 'translateX(' + x/scaleX + 'px) translateY(' + y/scaleY + 'px)';
			eyeRight.style.transform = 'translateX(' + x/scaleX + 'px) translateY(' + y/scaleY + 'px)';
			eyeSvgLeft.style.transform = 'translateX(' + x/scaleX + 'px) translateY(' + y/scaleY + 'px)';
			eyeSvgRight.style.transform = 'translateX(' + x/scaleX + 'px) translateY(' + y/scaleY + 'px)';
		}

		document.addEventListener("mousemove", function(e) {
			var scaleX = window.innerWidth / 34;
			var scaleY = window.innerHeight / 18;
			pos.x = e.clientX - window.innerWidth / 2;
			pos.y = e.clientY - window.innerHeight / 2;
			translate(pos.x, pos.y, scaleX, scaleY);
		});

		var SCALEX = 3;
		var SCALEY = 1;

		if (window.DeviceOrientationEvent) {
			window.addEventListener("deviceorientation", function () {
				pos.x = event.gamma;
				pos.y = event.beta;
				translate(event.gamma, event.beta, SCALEX, SCALEY);
			}, true);
		} else if (window.DeviceMotionEvent) {
			window.addEventListener('devicemotion', function () {
				pos.x = event.acceleration.x * 2;
				pos.y = event.acceleration.y * 2;
				translate(pos.x, pos.y, SCALEX, SCALEY);
			}, true);
		} /*else {
			window.addEventListener("MozOrientation", function () {
				pos.x = orientation.x * 50;
				pos.y = orientation.y * 50;
				translate(pos.x, pos.y, SCALEX, SCALEY);
			}, true);
		}*/
	</script>

</body>
</html>